

设计思路以及所有做的假设(TXT即可)

​	

将长url转成短url。

​	短连接生成规则

1. 将长网址 `md5` 生成 32 位签名串,分为 4 段, 每段 8 个字节
2. 对这四段循环处理, 取 8 个字节, 将他看成 16 进制串与 0x3fffffff(30位1) 与操作, 即超过 30 位的忽略处理
3. 每 3 位的数字作为字母表的索引取得特定字符, 依次进行获得 8 位字符串
4. 总的 `md5` 串可以获得 4 个 8 位串,取里面的任意一个就可作为这个长 url 的短 url 地址
5. 将短url 作为key 和长url 做为value 放到map里面，

  

​    其中：

​	我使用ConcurrentHashMap 来处理高并发的情况。

​    使用AtomicLong 来计算map里面的数据大小，当数据大于最大内存的百分之70 则不能再进行新的转换了，以处理内存溢出的问题。

 

将短url 获取长url

  1.根据短url 从map中获取相应的value 在将value返回到页面上。



对于冲突的概率：

向内存放置10240000个元素

冲突个数：3025238    冲突概率是： 0.14946828063241108
reshort次冲突个数：33824  冲突概率是：   0.00330312